<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Find the items you like and bid!" />
    <title>bid. | Product Name</title>
    <link rel="stylesheet" href="/dist/css/styles.css" />
    <script defer src="../src/js/index.mjs" type="module"></script>
    <script
      defer
      src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"
    ></script>
    <!-- Hotjar Tracking Code for auction house -->
<script>
  (function(h,o,t,j,a,r){
      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
      h._hjSettings={hjid:3386110,hjsv:6};
      a=o.getElementsByTagName('head')[0];
      r=o.createElement('script');r.async=1;
      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
      a.appendChild(r);
  })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
  </head>
  <body class="container">
    <header class="p-3 mb-3">
      <div>
        <div class="d-flex justify-content-between">
          <a href="/" class="logo  mb-2 mb-lg-0"> bid. </a>

          <div class=" d-sm-flex align-items-center text-center">
            <!-- <div id="nav-link">
              <a id="my-page-link" href="./profile/" class="me-3">My Page</a>
            </div> -->
            <div class="d-none welcome-stranger">
              <p class="mb-0">Welcome stranger: </p>
              <a href="../login">Login</a>
            </div>
            <div class="d-none welcome-user">
              <p class="mb-0 user-name"> </p>
              <div id="points-display" class="mt-1"></div>
            </div>
              <div class="ms-3 dropdown">
                <a
                  href="#"
                  class="d-block link-dark text-decoration-none dropdown-toggle"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                <img
                onerror="this.onerror=null;this.src='../asset/img/avatar-placeholder.png'"
                alt="profile avatar"
                href="../profile/"
                class="d-none rounded-circle"
                id="navBtn"
              />
                </a>
                <ul class="dropdown-menu dropdown-menu-dark text-small mt-2">
                  <li><a class="dropdown-item" href="../">Listings | Home</a></li>
                  <li><a class="dropdown-item" id="my-page">My Page</a></li>
                  <li><hr class="dropdown-divider" /></li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="/"
                      data-bs-toggle="modal"
                      data-bs-target="#confirm-logout"
                      >Log out</a
                    >
                  </li>
                </ul>
              </div>
          </div>
        </div>
      </div>
    </header>
    <main class="mx-4 mx-md-5">
      <a type='button' onclick="history.back()">&#8592 Back</a>
      <div class="row row-cols-1 row-cols-md-2 mt-3">
        <section id="myCarousel" class="carousel slide col col-md-7 m-auto">
          <div class="carousel-inner" id="carousel-container">

          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#myCarousel"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#myCarousel"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </section>

        <section
          id="product-container"
          class="my-1 col col-md-5 d-flex"
        >
      </section>
    </div>
    <section
    id="" class="row g-3 pt-md-5"
    >
    
    <div id="description-container" class="row row-cols-1 row-cols-md-3 d-flex ">
    <img class="loader-icon m-auto m-100" src="/asset/icons/spinner.svg" alt="loader">
  </div>
      
      </section>

    </main>

    <!-- Modal place a bid -->
    <div
      class="modal fade"
      id="bidModal"
      tabindex="-1"
      aria-labelledby="postModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog m-4 mx-sm-auto" >

        <div class="modal-content px-4">
          <div class="modal-header mt-2" id="closeBtn-wrapper">
            <button
            id="close-modal-btn"
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            ></button>

          </div>


          <div id="bid-form-container"></div>
        </div>
      </div>
    </div>

    <!-- Modal Edit Listing-->
    <div
      class="modal fade"
      id="edit-modal"
      tabindex="-1"
      aria-labelledby="postModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog m-4 mx-sm-auto">
        <div class="modal-content p-3 p-sm-5">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="postModalLabel">
              Edit listing
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
              id="my-close-modal-btn"
            ></button>
          </div>
          <form class="modal-body gx-1" id="edit-form">
            <div class="form-group mb-3">
              <label for="">Title </label>
              <input
                type="text"
                class="form-control"
                name="title"
                maxlength="30"
              />
            </div>

              <div class="form-group mb-3">
              <label for="">Tag</label>
              <input type="text" class="form-control" name="tags" />
            </div>
            <div class="form-group mb-3">
              <label for="">Media URL</label>
              <input type="url" class="form-control" name="media" />
            </div> 
            <div class="form-group mb-3">
              <label for="">Short description</label>
              <textarea
                type="text"
                class="form-control"
                name="description"
                maxlength="150"
              ></textarea>
            </div>
            <div id="user-alert-edit"></div>
            <div class="modal-footer">
              <button class="btn btn-outline-secondary" data-bs-dismiss="modal">
                Cancel
              </button>
              <button
                type="submit"
                class="btn btn-secondary"
              >
                Confirm edit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal Delete Listing-->
    <div
      class="modal fade"
      id="delete-modal"
      tabindex="-1"
      aria-labelledby="delete"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="logout">Delete</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to delete this item?</p>
            <div class="modal-footer">
              <div id="user-alert-delete"></div>
              <button class="btn btn-outline-secondary" data-bs-dismiss="modal">
                Cancel
              </button>
              <button
                class="btn btn-secondary"
                data-bs-dismiss="modal"
                id="delete-btn"
              >
                Delete
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal Confirm Logout-->
    <div
      class="modal fade"
      id="confirm-logout"
      tabindex="-1"
      aria-labelledby="logout"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="logout">Log out</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to logout?</p>
            <p></p>
            <div class="modal-footer">
              <button class="btn btn-secondary" data-bs-dismiss="modal">
                Back
              </button>
              <button
                class="btn btn-primary"
                data-bs-dismiss="modal"
                id="logout-btn"
              >
                Log out
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer class="mt-auto py-3 my-5 pt-5 text-muted text-center text-small">
      <p class="mb-1">Â© 2023 auction platform - bid.</p>
      <ul class="list-inline">
        <li class="list-inline-item"><a href="#">Privacy</a></li>
        <li class="list-inline-item"><a href="#">Terms</a></li>
        <li class="list-inline-item"><a href="#">Support</a></li>
      </ul>
    </footer>


    <!-- Templates -->
    <div class="d-none templates">
      <template id="description-template">

      <div class="card card-specific mt-0 rounded-3  col col-md-4">
        <div class="card-header py-3">
          <h2 class="my-0 fw-normal">Description</h2>

        </div>
        <div class="card-body">
        <p class="description"></p>
        </div>
              
      </div>

      <div class="card card-specific mt-0 rounded-3  col col-md-4">
        <div class="card-header py-3">
          <h2 class="my-0 fw-normal">Seller</h2>
      </div>
        <div class="d-flex list-group-item list-group-item-action py-3" aria-current="true">
          <img onerror="this.onerror=null;this.src='../asset/img/avatar-placeholder.png'" class="bd-placeholder-img flex-shrink-0 me-2 rounded" width="32" height="32" id="seller-img">
          <div class="d-flex w-100 justify-content-between lh-sm ">
            <div>
              <strong class="seller-name"></strong>
              <p class="mb-0 email"></p>
            </div>
          </div>
        </div>
      </div>

      <div class="card card-specific mt-0 rounded-3  col col-md-4">
        <div class="card-header py-3">
          <h2 class="my-0 fw-normal">Bid History</h2>
        </div>
        <div class="card-body">
          <div id="bid-history-container" class="row">
          </div>
        </div>
      </div>

      </template>

      <template id="bid-form-temp">
        <div class="modal-header">
          <h3 class="modal-title h4 " id="bidModal">Make a bid</h3>
        </div>
          <div class="modal-body">
              <div  id="bid-info" class="row row-cols-2 mb-3">
                <div class="col-md-5 ">Current bid: </div>
                <div class="col-md-7 bids ">Column</div>
                <div class="col-md-5 pints">Your available points: </div>
                <div class="col-md-7 my-points">Column</div>
              </div>
    <hr>
          <form class="gx-1" id="bid-form">
            <div class="form-group my-3">
              <label class="col-5" for="">Your bid: </label>
              <input type="number" class="col-5" name="amount" required  />
              <button class="btn btn-sm border-main small rounded-circle py-0 ms-2 text-main" type="button" data-bs-toggle="collapse" data-bs-target="#user-help" aria-expanded="false" aria-controls="#user-help">
                ?
              </button>
            </div>
            <div class="collapse dark" id="user-help">
              <div class="card card-body">
                <small class="text-muted">When the listing ends, the winning bid amount will be transferred to the seller's account. All losing bids will be refunded to the original bidder's account balance.</small>
              </div>
            </div>
            <div id="user-alert"></div>
            <div class="modal-footer">
              <button class="btn btn-outline-secondary" data-bs-dismiss="modal">
                Close
              </button>
              <button
                type="submit"
                class="btn btn-secondary"
              >
                Bid now
              </button>
            </div>
          </form>

      </template>

      <template id="carousel-template">
        <div class="carousel-item active" 
        data-bs-toggle="modal"
        data-bs-target="#modal-img" >
          <img
            class="d-block w-100 m-auto "

          />
        </div>
        <!-- Modal Closeup img-->
        <div
          class="modal fade"
          id="modal-img"
          tabindex="-1"
          aria-labelledby="logout"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content" >
          <div class="modal-header">
      
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body" id="modal-img-container">
        <div>
          <img  
          class="d-block w-100 m-auto myModal"
          />
        </div>

            </div>
          </div>
        </div>
       </template>

       <template id="product-CTA-section">
        <div class="listing col-12">
          <div class="card card-specific mb-4">
            <div class="card-body p-0 p-md-3" id="product-summary">
              <h1 class="card-header"></h1>
              <div
              class="card-footer justify-content-between align-items-center"
              >
              <div class="row row-cols-2">
                <div class="col">Created: </div>
                <div class="col created">Column</div>
                <div class="col">Ends on: </div>
                <div class="col endsAt">Column</div>
                <div class="col">Expiry: </div>
                <div class="col time-remain">Column</div>
                <div class="col highest">Bids: </div>
                <div class="col bids highest">Column</div>
              </div>
              <hr>
              <div class="tags text-muted d-flex mt-0">
              </div> 
              </div>
            </div>
            <div id="bidBtn-container" class="px-md-5">
            <a
            href="../login/"
            type="button"
            class="w-100 btn btn-lg btn-outline-main d-none"
            id="loginToBidBtn"
            >
            Login to make a bid
            </a>


              <button
              type="button"
              class="col-12 btn btn-lg btn-main d-none"
              data-bs-toggle="modal"
              data-bs-target="#bidModal"
              id="bidBtn"
            >
              Make a bid
            </button>
            <button
              type="button"
              class="col-12 btn btn-lg btn-outline-secondary d-none mt-3"
              id="favBtn"
            >
              Add to favorite
            </button>


            <div class="d-flex justify-content-around">
              <button
              type="button"
              class="col-5 btn btn-outline-secondary d-none"
              data-bs-toggle="modal"
              data-bs-target="#edit-modal"
              id="editBtn"
                        >
              Edit listing
                        </button>
                        <button
              type="button"
              class="col-5 btn btn-outline-main d-none "
              data-bs-toggle="modal"
              data-bs-target="#delete-modal"
              id="deleteBtn"
                        >
              Delete listing
                        </button>
            </div>
            </div>
          </div>
        </div>
       </template>

    </div>
  </body>
</html>
